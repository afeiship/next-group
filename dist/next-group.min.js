!function(){var i=i||this||window||Function("return this")(),t=i.nx||require("next-js-core2"),n=t.declare("nx.Group",{properties:{items:{get:function(){var i=[];return this._groups.forEach(function(t){i=i.concat(t.items||[])}),i}},groups:{get:function(){return this._groups}},maps:{get:function(){var i={},n={},s=this;return t.each(this._groups,function(e,r){n[r.id]=r.items,t.each(r.items,function(t,n){i[s.tid(n)]=n})}),{item:i,group:n}}}},methods:{init:function(i,t){this.groupId=i,this.itemId=t,this._groups=[]},id:function(i,t){return"function"==typeof this[i]?this[i](t):t[this[i]]},gid:function(i){return this.id("groupId",i)},tid:function(i){return this.id("itemId",i)},indexOfGroup:function(i){for(var t=this.gid(i),n=0;n<this._groups.length;n++){if(this._groups[n].id===t)return n}return-1},indexOf:function(i,t,n){for(var s=-1,e=0;e<t.length;e++){var r=t[e];if(this[i](n)===this[i](r)){s=e;break}}return s},contains:function(i){return this.indexOf("tid",this.items,i)>-1},add:function(i){if(!this.contains(i)){var t=this.gid(i),n=this.indexOfGroup(i);-1!==n?this._groups[n].items.push(i):this._groups.push({id:t,items:[i]})}},remove:function(i){var t=this.indexOfGroup(i);if(-1!==t){var n=this._groups[t],s=this.indexOf("tid",n.items,i);-1!==s&&(n.items.splice(s,1),n.items.length||this._groups.splice(t,1))}},toggle:function(i){this.contains(i)?this.remove(i):this.add(i)}}});"undefined"!=typeof module&&module.exports&&(module.exports=n)}();